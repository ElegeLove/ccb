(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49f4effa"],{"3bc7":function(a,t,e){},7672:function(a,t,e){"use strict";e.r(t);var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{attrs:{id:"mxClassList"}},[e("a-breadcrumb",{attrs:{separator:" "}},[e("a-breadcrumb-item",[e("a-icon",{staticClass:"mx_header_icon",attrs:{type:"arrow-left"},on:{click:a.goback}})],1),e("a-breadcrumb-item",{attrs:{href:""}},[e("span",{staticClass:"mx_header_text"},[a._v(a._s(a.schoolSystem))])]),e("a-breadcrumb-item",{staticClass:"mx_header_text"},[a._v(a._s(a.gradeName))])],1),e("div",{staticClass:"components-input-demo-presuffix"},[e("p",{staticClass:"hmTxt"},[a._v("班级：")]),e("a-input",{ref:"userNameInput",staticClass:"seachBox",staticStyle:{width:"200px"},attrs:{placeholder:"班级/班主任名称"},model:{value:a.mxClassVal,callback:function(t){a.mxClassVal=t},expression:"mxClassVal"}},[a.mxClassVal?e("a-icon",{staticStyle:{color:"#999"},attrs:{slot:"suffix",theme:"filled",type:"close-circle"},on:{click:a.emitEmpty},slot:"suffix"}):a._e()],1),e("a-button",{staticClass:"seachBtn",attrs:{type:"primary"},on:{click:a.mxSeach}},[a._v("搜索")])],1),e("div",{staticClass:"mx_btnGroup"},[e("a-button",{staticClass:"mx_creat_btn mx_btnbg",attrs:{type:"primary"},on:{click:a.showModal}},[a._v("创建班级")]),e("a-modal",{attrs:{title:"创建班级",centered:"",okText:"确认",cancelText:"取消"},on:{cancel:a.hideModal,ok:a.creat},model:{value:a.visible,callback:function(t){a.visible=t},expression:"visible"}},[e("div",{staticClass:"mx_model"},[e("div",{staticClass:"mx_model_main"},[e("p",[e("span",[a._v("班级名称：")]),e("span",[e("a-input",{staticClass:"mx_model_inp",attrs:{type:"text",placeholder:"填写班级名称"},model:{value:a.mxClassName,callback:function(t){a.mxClassName=t},expression:"mxClassName"}})],1)]),e("p",[e("span",[a._v("班主任：")]),e("span",[e("a-input",{staticClass:"mx_model_inp",attrs:{type:"text",placeholder:"填写班主任姓名"},model:{value:a.mxClassTeacher,callback:function(t){a.mxClassTeacher=t},expression:"mxClassTeacher"}})],1)]),e("p",[e("span",[a._v("联系电话：")]),e("span",[e("a-input",{staticClass:"mx_model_inp",attrs:{type:"text",placeholder:"填写班主任联系电话"},model:{value:a.mxClassPhone,callback:function(t){a.mxClassPhone=t},expression:"mxClassPhone"}})],1)])])])]),e("div",{staticClass:"mx_btns"},[e("span",[a._v("导入班级")]),e("a-divider",{staticStyle:{background:"#000"},attrs:{type:"vertical"}}),e("span",[a._v("下载模板")])],1)],1),e("a-skeleton",{attrs:{loading:a.loading,active:"",title:!1,paragraph:{rows:6}}},[e("a-list",{attrs:{grid:{gutter:16,column:4},dataSource:a.data},scopedSlots:a._u([{key:"renderItem",fn:function(t,s){return e("a-list-item",{},[e("a-card",{staticClass:"mx_card",attrs:{bordered:!1}},[e("div",{staticClass:"mx_car_title"},[e("div",[a._v(a._s(t.title))]),e("div",[e("a-icon",{staticClass:"mx_car_updata",attrs:{type:"form"},on:{click:function(e){return a.mxShowUpdata(t.title,t.head_teacher_title,t.head_teacher_phone,t.id)}}}),e("a-modal",{attrs:{title:"编辑班级",centered:"",maskStyle:{opacity:"0.1",background:"#000",animation:"none"},okText:"确认",cancelText:"取消"},on:{cancel:a.mxCelUpdata,ok:a.mxUpdata},model:{value:a.isUpdata,callback:function(t){a.isUpdata=t},expression:"isUpdata"}},[e("div",{staticClass:"mx_model"},[e("div",{staticClass:"mx_model_main"},[e("p",[e("span",[a._v("班级名称：")]),e("span",[e("a-input",{staticClass:"mx_model_inp",attrs:{type:"text",placeholder:"填写班级名称"},model:{value:a.mxName,callback:function(t){a.mxName=t},expression:"mxName"}})],1)]),e("p",[e("span",[a._v("班主任：")]),e("span",[e("a-input",{staticClass:"mx_model_inp",attrs:{type:"text",placeholder:"填写班主任姓名"},model:{value:a.mxTeacher,callback:function(t){a.mxTeacher=t},expression:"mxTeacher"}})],1)]),e("p",[e("span",[a._v("联系电话：")]),e("span",[e("a-input",{staticClass:"mx_model_inp",attrs:{type:"text",placeholder:"填写班主任联系电话"},model:{value:a.mxPhone,callback:function(t){a.mxPhone=t},expression:"mxPhone"}})],1)])])])]),e("a-icon",{staticClass:"mx_del",attrs:{type:"delete"},on:{click:function(e){return a.mxShowDel(t.title,t.id)}}}),e("a-modal",{attrs:{title:"删除确认",centered:"",maskStyle:{opacity:"0.1",background:"#000",animation:"none"},okText:"确认",cancelText:"取消"},on:{cancel:a.mxCancel,ok:a.mxDelete},model:{value:a.isDel,callback:function(t){a.isDel=t},expression:"isDel"}},[e("div",{staticClass:"mx_model"},[e("div",{staticClass:"mx_model_mainDel"},[a._v("\n                                        删除后所有与\n                                        "),e("span",[a._v(a._s(a.gradeTitle))]),a._v("相关联的信息都会被清空，是否继续？\n                                    ")])])])],1)]),e("div",{staticClass:"mx_list",on:{click:function(e){return a.mxStudentInfo(t.title,t.id)}}},[e("div",[a._v("学生人数："+a._s(t.peoples)+"人")]),e("div",[a._v("班 主 任："+a._s(t.head_teacher_title))]),e("div",[a._v("联系电话："+a._s(t.head_teacher_phone))]),e("div",[a._v("班级编号："+a._s(t.class_sn))])])])],1)}}])})],1)],1)},i=[],l=(e("bc3a"),e("4328"),[{id:1,school_id:1,title:"一年级一班",head_teacher_title:"张云峰",head_teacher_phone:"15978990760",peoples:0,created_at:"2019-08-13 10:34:53",updated_at:"2019-08-13 10:34:53",subgroup_id:17,class_sn:"GSN-1-17-20190813",del_at:0},{id:2,school_id:1,title:"一年级二班",head_teacher_title:"刘敏",head_teacher_phone:"15978990760",peoples:0,created_at:"2019-08-15 09:51:46",updated_at:"2019-08-15 09:51:46",subgroup_id:17,class_sn:"GSN-1-17-20190815",del_at:0},{id:3,school_id:1,title:"一年级十三班",head_teacher_title:"吴彦祖",head_teacher_phone:"15978906710",peoples:0,created_at:"2019-08-15 09:58:05",updated_at:"2019-08-30 14:41:58",subgroup_id:17,class_sn:"GSN-1-17-92678-20190815",del_at:1567147318}]),c={data:function(){return{loading:!0,data:l,visible:!1,isUpdata:!1,isDel:!1,schoolSystem:"",gradeName:"",mxClassName:"",mxClassTeacher:"",mxClassPhone:"",gradeid:"",gradeTitle:"",classid:"",mxName:"",mxTeacher:"",mxPhone:"",mxClassVal:""}},mounted:function(){this.schoolSystem=this.$route.query.schoolSystem,this.gradeName=this.$route.query.gradeName,this.gradeid=this.$route.query.gradeid,this.getClassList(this.$route.query.gradeid)},methods:{goback:function(){window.history.back(-1)},mxSeach:function(){var a=this;this.$get("api/school/grade/"+this.gradeid+"/edit",{keyword:this.mxClassVal}).then(function(t){0==t.data.code?a.data=t.data.data:a.$message.warning(t.data.msg)})},emitEmpty:function(){this.$refs.userNameInput.focus(),this.mxClassVal=""},showModal:function(){this.visible=!0},hideModal:function(){this.visible=!1},creat:function(){var a=this,t={url:"api/school/grade",method:"post",data:{title:this.mxClassName,head_teacher_title:this.mxClassTeacher,head_teacher_phone:this.mxClassPhone,subgroup_id:this.gradeid}};this.$apiAxiox(t).then(function(t){a.getClassList(a.$route.query.gradeid),a.visible=!1,a.$message.success("创建成功"),a.mxClassName="",a.mxClassTeacher="",a.mxClassPhone=""})},mxCelUpdata:function(){this.isUpdata=!1},mxUpdata:function(){var a=this,t={url:"api/school/grade/"+this.classid,method:"put",data:{title:this.mxName,head_teacher_title:this.mxTeacher,head_teacher_phone:this.mxPhone}};this.$apiAxiox(t).then(function(t){0==t.data.code?(a.isUpdata=!1,a.$message.success("编辑成功"),a.getClassList(a.$route.query.gradeid)):a.$message.warning(t.data.msg)})},mxShowUpdata:function(a,t,e,s){this.mxName=a,this.mxTeacher=t,this.mxPhone=e,this.classid=s,this.isUpdata=!0},mxShowDel:function(a,t){this.gradeTitle=a,this.classid=t,this.isDel=!0},mxCancel:function(){this.isDel=!1},mxDelete:function(){var a=this,t={url:"api/school/grade/"+this.classid,method:"delete",data:{}};this.$apiAxiox(t).then(function(t){a.getClassList(a.$route.query.gradeid),a.isDel=!1,a.$message.success("删除成功")})},mxStudentInfo:function(a,t){this.$router.push({path:"/mxStudentList",query:{className:a,classid:t}})},getClassList:function(a){var t=this,e={url:"api/school/grade/"+a+"/edit",method:"get",data:{}};this.$apiAxiox(e).then(function(a){0==a.data.code?(t.data=a.data.data,t.loading=!1):t.$message.warning(a.data.msg)})}}},n=c,o=(e("d27a"),e("2877")),d=Object(o["a"])(n,s,i,!1,null,"17c23f4c",null);t["default"]=d.exports},d27a:function(a,t,e){"use strict";var s=e("3bc7"),i=e.n(s);i.a}}]);
//# sourceMappingURL=chunk-49f4effa.dd1ec4fb.js.map