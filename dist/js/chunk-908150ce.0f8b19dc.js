(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-908150ce"],{"1af6":function(e,t,a){var r=a("63b6");r(r.S,"Array",{isArray:a("9003")})},2936:function(e,t,a){},"75fc":function(e,t,a){"use strict";var r=a("a745"),i=a.n(r);function s(e){if(i()(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}var n=a("774e"),o=a.n(n),l=a("c8bb"),c=a.n(l);function u(e){if(c()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return o()(e)}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function m(e){return s(e)||u(e)||d()}a.d(t,"a",function(){return m})},"774e":function(e,t,a){e.exports=a("d2d5")},a745:function(e,t,a){e.exports=a("f410")},ac6a:function(e,t,a){for(var r=a("cadf"),i=a("0d58"),s=a("2aba"),n=a("7726"),o=a("32e9"),l=a("84f2"),c=a("2b4c"),u=c("iterator"),d=c("toStringTag"),m=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=i(p),v=0;v<f.length;v++){var h,g=f[v],b=p[g],w=n[g],x=w&&w.prototype;if(x&&(x[u]||o(x,u,m),x[d]||o(x,d,g),l[g]=m,b))for(h in r)x[h]||s(x,h,r[h],!0)}},af41:function(e,t,a){"use strict";var r=a("2936"),i=a.n(r);i.a},c52a:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"mxAddStaff"}},[a("a-breadcrumb",{attrs:{separator:" "}},[a("a-breadcrumb-item",[a("a-icon",{staticClass:"mx_header_icon",attrs:{type:"arrow-left"},on:{click:e.goback}})],1),a("a-breadcrumb-item",{staticClass:"mx_header_text"},[e._v("添加员工")])],1),e._m(0),a("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[a("a-row",{staticClass:"mx_main"},[a("a-col",{attrs:{span:8}},[a("a-form-item",{attrs:{label:"所属食堂"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["canteenId",{rules:[{required:!0,message:"请选择员工所属食堂"}]}],expression:"[\n                            'canteenId',\n                            {rules: [{ required: true, message: '请选择员工所属食堂' }]}\n                        ]"}],staticStyle:{width:"300px"},attrs:{placeholder:"所属食堂选择"}},e._l(e.canteen,function(t){return a("a-select-option",{attrs:{value:t.id}},[e._v(e._s(t.title))])}),1)],1),a("a-form-item",{attrs:{label:"姓名"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请填写员工姓名"}]}],expression:"[\n                            'name',\n                            {rules: [{ required: true, message: '请填写员工姓名' }]}\n                        ]"}],staticStyle:{width:"300px"},attrs:{placeholder:"填写员工姓名"}})],1),a("a-form-item",{attrs:{label:"性别选择"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["sex",{rules:[{required:!0,message:"请选择员工性别"}]}],expression:"[\n                            'sex',\n                            {rules: [{ required: true, message: '请选择员工性别' }]}\n                        ]"}],staticStyle:{width:"300px"},attrs:{placeholder:"选择性别"}},[a("a-select-option",{attrs:{value:"1"}},[e._v("男")]),a("a-select-option",{attrs:{value:"2"}},[e._v("女")])],1)],1),a("a-form-item",{attrs:{label:"年龄"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["age",{rules:[{required:!0,message:"请填写员工年龄"}]}],expression:"[\n                            'age',\n                            {rules: [{ required: true, message: '请填写员工年龄' }]}\n                        ]"}],staticStyle:{width:"300px"},attrs:{placeholder:"填写员工年龄"}})],1),a("a-form-item",{attrs:{label:"职位"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["jobTitle",{rules:[{required:!0,message:"请填写员工职位"}]}],expression:"[\n                            'jobTitle',\n                            {rules: [{ required: true, message: '请填写员工职位' }]}\n                        ]"}],staticStyle:{width:"300px"},attrs:{placeholder:"填写员工职位"}})],1),a("a-form-item",{attrs:{label:"学历"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["education",{rules:[{required:!0,message:"请选择员工学历"}]}],expression:"[\n                            'education',\n                            {rules: [{ required: true, message: '请选择员工学历' }]}\n                        ]"}],staticStyle:{width:"300px"},attrs:{placeholder:"学历选择"}},[a("a-select-option",{attrs:{value:"未接受教育"}},[e._v("未接受教育")]),a("a-select-option",{attrs:{value:"小学"}},[e._v("小学")]),a("a-select-option",{attrs:{value:"初中"}},[e._v("初中")]),a("a-select-option",{attrs:{value:"高中"}},[e._v("高中")]),a("a-select-option",{attrs:{value:"专科"}},[e._v("专科")]),a("a-select-option",{attrs:{value:"本科"}},[e._v("本科")]),a("a-select-option",{attrs:{value:"研究生"}},[e._v("研究生")])],1)],1),a("a-form-item",{attrs:{label:"联系电话"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phone",{rules:[{required:!0,message:"请填写员工联系电话"}]}],expression:"[\n                            'phone',\n                            {rules: [{ required: true, message: '请填写员工联系电话' }]}\n                        ]"}],staticStyle:{width:"300px"},attrs:{placeholder:"填写联系电话"}})],1),a("a-form-item",{attrs:{label:"联系地址"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["location",{rules:[{required:!0,message:"请填写员工联系地址"}]}],expression:"[\n                            'location',\n                            {rules: [{ required: true, message: '请填写员工联系地址' }]}\n                        ]"}],staticStyle:{width:"300px"},attrs:{placeholder:"填写联系地址"}})],1),a("a-form-item",{attrs:{label:"入职日期"}},[a("a-date-picker",{attrs:{placeholder:"入职日期选择"},on:{change:e.handlePanelChange}})],1)],1),a("a-col",{attrs:{span:16}},[a("a-form-item",{attrs:{label:"人脸图片"}},[a("div",[a("div",{staticClass:"clearfix"},[a("a-upload",{attrs:{action:"http://bate.ccb.micmio.com/api/common/upload",listType:"picture-card",fileList:e.fileList},on:{preview:e.handlePreview,change:e.handleChange}},[e.fileList.length<1?a("div",{directives:[{name:"decorator",rawName:"v-decorator",value:["人脸图片",{rules:[{required:!0,message:"请录入人脸图片"}]}],expression:"[\n                                        '人脸图片',\n                                        {rules: [{ required: true, message: '请录入人脸图片' }]}\n                                    ]"}]},[a("a-icon",{attrs:{type:"plus"}})],1):e._e()]),a("a-modal",{attrs:{visible:e.previewVisible,footer:null},on:{cancel:e.handleCancel}},[a("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:e.previewImage}})])],1),a("a-upload",{attrs:{action:"http://bate.ccb.micmio.com/api/common/upload",fileList:e.fileList},on:{preview:e.handlePreview,change:e.handleChange}},[a("a-button",[a("a-icon",{attrs:{type:"upload"}}),e._v("人脸录入\n                            ")],1)],1)],1)])],1)],1),a("a-form-item",[a("a-button",{attrs:{type:"primary","html-type":"submit"}},[e._v("下一步")])],1)],1)],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"mx_title"},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v("此处建议添加厨房操作人员，将对健康证等信息公示")])}],s=a("75fc"),n=(a("7f7f"),a("ac6a"),a("c1df")),o=a.n(n),l={data:function(){return{moment:o.a,previewVisible:!1,previewImage:"",fileList:[],form:this.$form.createForm(this),faceId:"",faceUrl:"",joinTime:"",canteen:[]}},mounted:function(){if(this.joinTime=o()().format("YYYY-MM-DD"),this.getCanteen(),this.$route.query.values){var e=this.$route.query.values;this.fileList=[{uid:"-1",name:"xxx.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"}],this.form.setFieldsValue({canteenId:e.canteenId,name:e.name,sex:e.sex,age:e.age,jobTitle:e.jobTitle,education:e.education,phone:e.phone,location:e.location}),this.fileList[0].url=e.faceUrl}},methods:{goback:function(){window.history.back(-1)},handlePanelChange:function(e,t){console.log(e),this.joinTime=o()(e._d).format("x")/1e3},getCanteen:function(){var e=this;this.$get("api/school/canteen",{}).then(function(t){0==t.data.code?(e.canteen=t.data.data,console.log(t.data.data),console.log(e.canteen)):console.log(22)})},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields(function(e,a){e||(Object.assign(a,{faceId:t.faceId,faceUrl:t.faceUrl,joinTime:t.joinTime}),console.log(a),t.$router.push({path:"/mxAddStaffs",query:a}))})},handleCancel:function(){this.previewVisible=!1},handlePreview:function(e){this.previewImage=e.url||e.thumbUrl,this.previewVisible=!0},handleChange:function(e){var t=this,a=Object(s["a"])(e.fileList);a=a.slice(-1),a=a.map(function(e){return e.response&&(e.url=e.response.url,t.faceId=e.response.data.id,t.faceUrl=e.response.data.url),e}),this.fileList=a}}},c=l,u=(a("af41"),a("2877")),d=Object(u["a"])(c,r,i,!1,null,"2603f58e",null);t["default"]=d.exports},c8bb:function(e,t,a){e.exports=a("54a1")},f410:function(e,t,a){a("1af6"),e.exports=a("584a").Array.isArray}}]);
//# sourceMappingURL=chunk-908150ce.0f8b19dc.js.map