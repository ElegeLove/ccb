(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-424cf027"],{"0bfb":function(t,e,a){"use strict";var s=a("cb7c");t.exports=function(){var t=s(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"34a1":function(t,e,a){"use strict";var s=a("d2f2"),i=a.n(s);i.a},3846:function(t,e,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},"6b54":function(t,e,a){"use strict";a("3846");var s=a("cb7c"),i=a("0bfb"),n=a("9e1e"),o="toString",c=/./[o],r=function(t){a("2aba")(RegExp.prototype,o,t,!0)};a("79e5")(function(){return"/a/b"!=c.call({source:"a",flags:"b"})})?r(function(){var t=s(this);return"/".concat(t.source,"/","flags"in t?t.flags:!n&&t instanceof RegExp?i.call(t):void 0)}):c.name!=o&&r(function(){return c.call(this)})},ac6a:function(t,e,a){for(var s=a("cadf"),i=a("0d58"),n=a("2aba"),o=a("7726"),c=a("32e9"),r=a("84f2"),l=a("2b4c"),p=l("iterator"),d=l("toStringTag"),_=r.Array,u={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(u),m=0;m<h.length;m++){var g,v=h[m],f=u[v],y=o[v],x=y&&y.prototype;if(x&&(x[p]||c(x,p,_),x[d]||c(x,d,v),r[v]=_,f))for(g in s)x[g]||n(x,g,s[g],!0)}},d2f2:function(t,e,a){},ebe8:function(t,e,a){"use strict";a.r(e);for(var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"mx_foodLibrary"}},[t.isShowInfo?t._e():a("div",[a("a-form",{staticClass:"mx_form mx_staff",attrs:{layout:"inline"}},[a("a-form-item",{attrs:{label:"食堂："}},[a("a-select",{staticStyle:{width:"150px"},attrs:{value:t.canteenSampleKey},on:{change:t.selectSampleChange}},t._l(t.canteen,function(e,s){return a("a-select-option",{key:s+1},[t._v(t._s(e.title))])}),1)],1)],1),a("div",{staticClass:"components-input-demo-presuffix"},[a("p",{staticClass:"hmTxt"},[t._v("食材:")]),a("a-input",{ref:"userNameInput",staticClass:"seachBox",staticStyle:{width:"200px"},attrs:{placeholder:"食材名称/批次号"},model:{value:t.mxClassVal,callback:function(e){t.mxClassVal=e},expression:"mxClassVal"}},[t.mxClassVal?a("a-icon",{staticStyle:{color:"#999"},attrs:{slot:"suffix",theme:"filled",type:"close-circle"},on:{click:t.emitEmpty},slot:"suffix"}):t._e()],1),a("a-button",{staticClass:"seachBtn",attrs:{type:"primary"},on:{click:t.mxSeach}},[t._v("搜索")])],1),a("a-form",{staticClass:"mx_form mx_staff",attrs:{layout:"inline"}},[a("a-form-item",{attrs:{label:"仓库："}},[a("a-select",{staticStyle:{width:"150px",marginRight:"60px"},attrs:{value:t.storehouseKey,disabled:t.isDisabled},on:{change:function(e){t.storehouseKey=e,t.storehouseId=t.storehouseList[e-1].id}}},t._l(t.storehouseList,function(e,s){return a("a-select-option",{key:s+1},[t._v(t._s(e.title))])}),1)],1),a("a-form-item",{attrs:{label:"供应商："}},[a("a-select",{staticStyle:{width:"150px",marginRight:"60px"},attrs:{value:t.supplierKey},on:{change:function(e){t.supplierKey=e,t.supplierId=t.supplierList[e-1].supplier_id}}},t._l(t.supplierList,function(e,s){return a("a-select-option",{key:s+1},[t._v(t._s(e.title))])}),1)],1),a("a-form-item",{attrs:{label:"食材状态："}},[a("a-select",{staticStyle:{width:"120px"},model:{value:t.foodState,callback:function(e){t.foodState=e},expression:"foodState"}},[a("a-select-option",{attrs:{value:"-1"}},[t._v("全部")]),a("a-select-option",{attrs:{value:"0"}},[t._v("正常")]),a("a-select-option",{attrs:{value:"1"}},[t._v("已过期")])],1)],1)],1),a("div",{staticClass:"mx_operate"},[a("a-button",{staticStyle:{marginRight:"30px",background:"#eee",color:"#000",border:"1px solid #ccc","border-radius":"4px","box-sizing":"border-box"},attrs:{type:"primary"},on:{click:t.mxFoodOut}},[t._v("食材出库")]),a("a-modal",{attrs:{title:"食材出库",centered:"",maskStyle:{opacity:"0.1",background:"#000",animation:"none"},okText:"确认",cancelText:"取消"},on:{cancel:t.mxFoodOutCel,ok:t.mxOkFoodOut},model:{value:t.isFoodOut,callback:function(e){t.isFoodOut=e},expression:"isFoodOut"}},[a("div",{staticClass:"mx_model"},[t._v("\n                    即将跳转至出库列表页面\n                ")])]),a("a-button",{staticStyle:{background:"#eee",color:"#000",border:"1px solid #ccc","border-radius":"4px","box-sizing":"border-box"},attrs:{type:"primary"},on:{click:t.mxLongWarranty}},[t._v("延长保质期")]),a("a-modal",{attrs:{title:"食材延保",centered:"",maskStyle:{opacity:"0.1",background:"#000",animation:"none"},okText:"确认",cancelText:"取消"},on:{cancel:t.mxLongWarrantyCel,ok:t.mxOkLongWarranty},model:{value:t.isLongWarranty,callback:function(e){t.isLongWarranty=e},expression:"isLongWarranty"}},[a("div",{staticClass:"mx_model"},[a("div",[a("span",[t._v("延长时间：")]),a("a-input",{staticStyle:{width:"150px",marginRight:"10px"},model:{value:t.extendTimes,callback:function(e){t.extendTimes=e},expression:"extendTimes"}}),a("a-select",{staticStyle:{width:"80px"},attrs:{defaultValue:t.early},on:{change:function(e){t.early=e}}},[a("a-select-option",{attrs:{value:"d"}},[t._v("天")]),a("a-select-option",{attrs:{value:"H"}},[t._v("小时")])],1),a("p",{staticStyle:{marginTop:"10px"}},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("延保后预警提醒时间也会一起延长，请留意")])],1)])]),a("span",{staticClass:"mx_btns"},[a("span",{staticClass:"mx_outPoeration"},[a("a-icon",{staticClass:"mx_icon",attrs:{type:"printer"}}),a("span",[t._v("打印")])],1),a("a-divider",{staticStyle:{background:"#000"},attrs:{type:"vertical"}}),a("span",{staticClass:"mx_outPoeration"},[a("a-icon",{staticClass:"mx_icon",attrs:{type:"printer"}}),a("span",[t._v("导出")])],1)],1)],1),a("a-skeleton",{attrs:{loading:t.loading,active:"",paragraph:{rows:20}}},[a("a-table",{attrs:{rowSelection:{selectedRowKeys:t.selectedRowKeys,onChange:t.onSelectChange},columns:t.healthyColumn,dataSource:t.healthyList,bordered:"",pagination:t.pagination},on:{change:t.healthyTableChange},scopedSlots:t._u([{key:"material_single_src",fn:function(t,e,s){return a("div",{staticStyle:{display:"flex","justify-content":"space-around"}},[a("viewer",[a("img",{staticStyle:{width:"60px",height:"60px"},attrs:{src:t}})])],1)}},{key:"operation",fn:function(e,s,i){return[a("div",{staticClass:"editable-row-operations"},[a("div",[a("a",{staticClass:"mx_operation mx_color",on:{click:function(e){return t.mxShowInfo(s.storage_id)}}},[t._v("查看食材")])])])]}}],null,!1,557488180)})],1)],1),t.isShowInfo?a("div",[a("a-breadcrumb",{attrs:{separator:" "}},[a("a-breadcrumb-item",[a("a-icon",{staticClass:"mx_header_icon",attrs:{type:"arrow-left"},on:{click:t.backShowInfo}})],1),a("a-breadcrumb-item",{staticClass:"mx_header_text"},[t._v("查看详情")])],1),a("a-skeleton",{attrs:{loading:t.loadingInfo,active:"",paragraph:{rows:20}}},[a("div",[a("div",{staticClass:"mx_main",staticStyle:{marginBottom:"60px",position:"relative"}},[a("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"}},[a("div",{staticClass:"mx_title",staticStyle:{margin:"0"}},[a("div",{staticStyle:{"margin-right":"56px"}},[a("span",[t._v(t._s(t.showListInfo.supplier_title))])]),a("div",{staticStyle:{"margin-right":"56px"}},[t._v("所属订单号："+t._s(t.showListInfo.order_no))]),a("div",[a("span",{staticStyle:{"margin-right":"18px"}},[t._v(t._s(t.showListInfo.created_at))])])])]),a("div",{staticClass:"mx_list"},[a("img",{attrs:{src:t.showListInfo.material_single_src,alt:""}}),a("span",{staticStyle:{"margin-right":"56px"}},[t._v(t._s(t.showListInfo.material_title))]),a("span",{staticStyle:{"margin-right":"56px"}},[t._v("¥"+t._s(t.showListInfo.order_unit_price))]),a("span",{staticStyle:{"margin-right":"56px"}},[t._v(t._s(t.showListInfo.order_num))]),a("span",{staticStyle:{"margin-right":"56px"}},[t._v("总价：¥"+t._s(t.showListInfo.total_price))]),a("span",{staticStyle:{fontSize:"16px",fontWeight:"bold"}},[t._v("批次号："+t._s(t.showListInfo.batch_num))])]),a("div",{staticStyle:{display:"flex","align-items":"center",marginLeft:"340px"}},[a("p",{staticStyle:{marginRight:"50px"}},[t._v("预警时间："),a("span",[t._v(t._s(t.showListInfo.yj_str))])]),a("p",[t._v("过期时间："),a("span",[t._v(t._s(t.showListInfo.gq_str))])])]),t.isOpen?a("div",{staticStyle:{display:"flex","justify-content":"center",paddingTop:"44px",marginTop:"26px",borderTop:"1px solid #e4e4e4"}},[a("div",{staticStyle:{display:"flex"}},[a("div",[a("p",[t._v("品牌名称："),a("span",[t._v(t._s(t.showListInfo.cargo_title))])]),a("p",[t._v("生产厂家："),a("span",[t._v(t._s(t.showListInfo.factory))])]),a("p",[t._v("产  地："),a("span",[t._v(t._s(t.showListInfo.source))])])]),a("div",{staticStyle:{margin:"0 75px 0 90px"}},[a("p",[t._v("生产日期："),a("span",[t._v(t._s(t.moment(t.showListInfo.product_date).format("YYYY年MM月DD日")))])]),a("p",[t._v("保  质  期："),a("span",[t._v(t._s(t.showListInfo.shelf_life)+"天")])]),a("p",[t._v("贮存方式："),a("span",[t._v(t._s(t.showListInfo.storage_method_str))])])]),a("div",[a("p",[t._v("包装方式："),a("span",[t._v(t._s(t.showListInfo.pack_str))])]),a("p",[t._v("净  含  量："),a("span",[t._v(t._s(t.showListInfo.net_weight))])])])])]):t._e(),a("div",{staticStyle:{position:"absolute",right:"20px",top:"10px"}},[0==t.showListInfo.overdue?a("span",[t._v("正常")]):a("span",{staticStyle:{color:"red"}},[t._v("已过期")])]),a("div",{staticStyle:{color:"#1890ff",position:"absolute",right:"20px",bottom:"10px",cursor:"pointer"},on:{click:function(){t.isOpen=!t.isOpen}}},[t._v("\n                        展开商品信息\n                        "),t.isOpen?a("a-icon",{attrs:{type:"up"}}):a("a-icon",{attrs:{type:"down"}})],1)]),a("div",{staticClass:"extendPeriod"},[a("p",{staticStyle:{fontSize:"16px",fontWeight:"bold"}},[t._v("延保记录")]),t._l(t.showListInfo.prolong,function(e){return a("div",{staticClass:"extendPeriodList",staticStyle:{display:"flex","align-items":"center",padding:"20px 0 16px"}},[a("p",{staticStyle:{margin:"0"}},[t._v("延长保质期："+t._s(e.prolong)+t._s(e.prolong_unit))]),a("p",{staticStyle:{margin:"0 64px 0 77px"}},[t._v("操 作 人："+t._s(e.username))]),a("p",{staticStyle:{margin:"0"}},[t._v("操作时间："+t._s(e.handle_time))]),a("p",{staticStyle:{margin:"0 0 0 72px"}},[t._v("延保前过期时间："+t._s(e.previous_time_str))])])})],2),a("div",{staticStyle:{width:"100%",height:"14px",background:"#f7f7f7",margin:"36px 0"}}),a("a-timeline",t._l(t.showListInfo.record,function(e){return a("a-timeline-item",{staticStyle:{position:"relative",marginLeft:"150px"}},[a("p",{staticStyle:{position:"absolute",left:"-150px"}},[t._v(t._s(e.created_at))]),a("div",{staticStyle:{border:"2px solid #bcbcbc",padding:"10px 16px 12px",borderRadius:"5px"}},[a("a-row",{staticStyle:{fontWeigh:"bold",color:"#000"}},[a("p",{staticStyle:{fontSize:"16px",fontWeight:"bold"}},[t._v(t._s(e.record_state_str))]),a("a-col",{attrs:{span:8}},[1==e.state?a("div",[a("p",[t._v("入库方式："),a("span",[t._v(t._s(e.record_state_str))])]),a("p",[t._v("存放仓库："),a("span",[t._v(t._s(e.storehou_title))])]),a("p",[t._v("保  质  期："),a("span",[t._v(t._s(t.showListInfo.shelf_life)+"天")])]),a("p",[t._v("操  作  人："),a("span",[t._v(t._s(e.username))])]),a("p",[t._v("操作时间："),a("span",[t._v(t._s(e.created_at))])])]):t._e(),101==e.out_style?a("div",[a("p",[t._v("出库用途："),a("span",[t._v(t._s(e.out_style_str))])]),a("p",[t._v("出库数量："),a("span",[t._v(t._s(e.number)+"斤")])]),a("p",[t._v("出  库  人："),a("span",[t._v(t._s(e.username))])]),a("p",[t._v("出库时间："),a("span",[t._v(t._s(e.created_at))])])]):t._e(),0==e.out_style?a("div",[a("p",[t._v("出库用途："),a("span",[t._v(t._s(e.out_style_str))])]),a("p",[t._v("出库数量："),a("span",[t._v(t._s(e.number)+"斤")])]),a("p",[t._v("详情说明："),a("span",[t._v(t._s(e.remark))])]),a("p",[t._v("使用日期："),a("span",[t._v(t._s(e.user_time_str))])]),a("p",[t._v("出  库  人："),a("span",[t._v(t._s(e.username))])]),a("p",[t._v("出库时间："),a("span",[t._v(t._s(e.created_at))])])]):t._e(),102==e.out_style?a("div",[a("p",[t._v("出库用途："),a("span",[t._v(t._s(e.out_style_str))])]),a("p",[t._v("报损数量："),a("span",[t._v(t._s(e.number)+"斤")])]),a("p",[t._v("报损原因："),a("span",[t._v(t._s(e.damage_reason))])]),a("p",[t._v("详情说明："),a("span",[t._v(t._s(e.remark))])]),a("p",[t._v("出  库  人："),a("span",[t._v(t._s(e.username))])]),a("p",[t._v("出库时间："),a("span",[t._v(t._s(e.created_at))])])]):t._e(),104==e.out_style?a("div",[a("p",[t._v("出库用途："),a("span",[t._v(t._s(e.out_style_str))])]),a("p",[t._v("移库数量："),a("span",[t._v(t._s(e.number)+"斤")])]),a("p",[t._v("移入位置："),a("span",[t._v(t._s(t.showListInfo.canteen_title))]),t._v("  "),a("span",[t._v(t._s(e.storehou_title))])]),a("p",[t._v("详情说明："),a("span",[t._v(t._s(e.remark))])]),a("p",[t._v("出  库  人："),a("span",[t._v(t._s(e.username))])]),a("p",[t._v("出库时间："),a("span",[t._v(t._s(e.created_at))])])]):t._e(),103==e.out_style?a("div",[a("p",[t._v("出库用途："),a("span",[t._v(t._s(e.out_style_str))])]),a("p",[t._v("退货数量："),a("span",[t._v(t._s(e.number)+"斤")])]),a("p",[t._v("详情说明："),a("span",[t._v(t._s(e.remark))])]),a("p",[t._v("退货单单号："),a("span",[t._v(t._s(e.return_on))])]),a("p",[t._v("出  库  人："),a("span",[t._v(t._s(e.username))])]),a("p",[t._v("出库时间："),a("span",[t._v(t._s(e.created_at))])])]):t._e()]),a("a-col",{attrs:{span:8}},[a("div",[a("p",[t._v("食材照片")]),a("viewer",t._l(e.photo_src,function(t){return a("img",{staticStyle:{width:"92px",height:"92px",marginRight:"30px"},attrs:{src:t.url,alt:""}})}),0)],1)]),102!=e.out_style&&103!=e.out_style&&104!=e.out_style?a("a-col",{attrs:{span:8}},[a("div",[a("p",[t._v("票据照片")]),a("viewer",t._l(e.bill_src,function(t){return a("img",{staticStyle:{width:"92px",height:"92px",marginRight:"30px"},attrs:{src:t.url,alt:""}})}),0)],1)]):t._e()],1)],1)])}),1)],1)])],1):t._e()])},i=[],n=(a("ac6a"),a("6b54"),a("c1df")),o=a.n(n),c=[{title:"食堂",dataIndex:"canteen_title",align:"center",width:"5%",scopedSlots:{customRender:"canteen_title"}},{title:"图片",dataIndex:"material_single_src",align:"center",width:"10%",scopedSlots:{customRender:"material_single_src"}},{title:"名称",dataIndex:"material_title",align:"center",width:"4%",scopedSlots:{customRender:"material_title"}},{title:"分类所属",dataIndex:"material_classify_src",align:"center",width:"8%",scopedSlots:{customRender:"material_classify_src"}},{title:"单位/单位",dataIndex:"order_unit_price",align:"center",width:"8%",scopedSlots:{customRender:"order_unit_price"}},{title:"数量",dataIndex:"order_num",align:"center",width:"6%",scopedSlots:{customRender:"order_num"}},{title:"总价",dataIndex:"total_price",align:"center",width:"4%",scopedSlots:{customRender:"total_price"}},{title:"仓库",dataIndex:"storehou_title",align:"center",width:"5%",scopedSlots:{customRender:"storehou_title"}},{title:"批次号",dataIndex:"batch_num",align:"center",width:"8%",scopedSlots:{customRender:"batch_num"}},{title:"供应商",dataIndex:"supplier_title",align:"center",width:"8%",scopedSlots:{customRender:"supplier_title"}},{title:"预警时间",dataIndex:"yj_str",align:"center",width:"10%",scopedSlots:{customRender:"yj_str"}},{title:"过期时间",dataIndex:"gq_str",align:"center",width:"10%",scopedSlots:{customRender:"gq_str"}},{title:"食材状态",dataIndex:"overdue_str",align:"center",width:"6%",scopedSlots:{customRender:"overdue_str"}},{title:"操作按钮",dataIndex:"operation",align:"center",scopedSlots:{customRender:"operation"}}],r=[],l=0;l<10;l++){var p,d;d=l<2?"食堂1":l<4?"食堂2":l<5?"食堂3":"食堂4",p=l%2==0?"正常":"已过期";var _=[{pic:"http://h.hiphotos.baidu.com/lvpics/w=600/sign=5dc3621e19d5ad6eaaf967eab1c939a3/0b55b319ebc4b745cc71eecccdfc1e178b821506.jpg"},{pic:"http://pic46.nipic.com/20140815/2531170_172548240000_2.jpg"},{pic:"http://pic41.nipic.com/20140508/18609517_112216473140_2.jpg"},{pic:"http://pic51.nipic.com/file/20141025/8649940_220505558734_2.jpg"},{pic:"http://h.hiphotos.baidu.com/lvpics/w=600/sign=5dc3621e19d5ad6eaaf967eab1c939a3/0b55b319ebc4b745cc71eecccdfc1e178b821506.jpg"},{pic:"http://pic46.nipic.com/20140815/2531170_172548240000_2.jpg"},{pic:"http://pic46.nipic.com/20140815/2531170_172548240000_2.jpg"},{pic:"http://pic46.nipic.com/20140815/2531170_172548240000_2.jpg"},{pic:"http://pic46.nipic.com/20140815/2531170_172548240000_2.jpg"},{pic:"http://pic46.nipic.com/20140815/2531170_172548240000_2.jpg"}];r.push({key:l.toString(),canteen_title:"".concat(d),material_single_src:_[l],material_title:"包包白".concat(l),material_classify_src:"海鲜鱼类".concat(l),order_unit_price:"￥15.00/斤",order_num:"200斤",total_price:"￥500.00",storehou_title:"仓库".concat(l),batch_num:"6546546".concat(l),supplier_title:"张三的".concat(l),yj_str:"2019-07-0".concat(l,"   15:2").concat(l),gq_str:"2019-0".concat(l,"-0").concat(l,"   15:2").concat(l),overdue_str:"".concat(p)})}var u={data:function(){var t=this;return{loading:!0,loadingInfo:!0,moment:o.a,healthyColumn:c,healthyList:r,selectedRowKeys:[],selectedRowList:[],pagination:{pageSize:15,current:1,total:0,showSizeChanger:!1,showQuickJumper:!0,showTotal:function(e){return"共 ".concat(e," 条记录 第 ").concat(t.pagination.current," / ").concat(Math.ceil(e/t.pagination.pageSize)," 页")}},isFoodOut:!1,isLongWarranty:!1,isShowInfo:!1,showListInfo:{},isOpen:!1,canteen:[],canteenShow:[],canteenSampleKey:"全部",canteenSampleId:0,mxClassVal:"",storehouseList:[],storehouseKey:"全部",storehouseId:0,isDisabled:!0,supplierList:[],supplierKey:"全部",supplierId:0,foodState:"-1",extendTimes:"",early:"d"}},created:function(){this.getCanteen(),this.getSupplier(),this.getFoodList("","","","","")},methods:{onSelectChange:function(t,e){this.selectedRowKeys=t,this.selectedRowList=e},healthyTableChange:function(t,e,a){this.pagination.pageSize=t.pageSize,this.pagination.current=t.current},getFoodList:function(t,e,a,s,i){var n=this,o=this;this.$get("api/school/foods?page="+this.pagination.current+"&canteen_id="+t+"&keyword="+e+"&supplier_id="+a+"&storehou_id="+s+"&state="+i).then(function(t){0==t.data.code?(o.pagination.pageSize=t.data.data.per_page,o.pagination.total=t.data.data.total,t.data.data.data.forEach(function(t){t.key=t.batch_id,t.material_single_src||(itemclider.url="http://h.hiphotos.baidu.com/lvpics/w=600/sign=5dc3621e19d5ad6eaaf967eab1c939a3/0b55b319ebc4b745cc71eecccdfc1e178b821506.jpg")}),n.healthyList=t.data.data.data,n.loading=!1):console.log(22)})},getCanteen:function(){var t=this;this.$get("api/school/canteen",{}).then(function(e){if(0==e.data.code){t.canteen=e.data.data;var a={id:0,title:"全部"};t.canteen.splice(0,0,a);var s=[];t.canteen.forEach(function(t,e){0!=e&&s.push(t)}),t.canteenShow=s}else console.log(22)})},getSupplier:function(){var t=this;this.$get("api/school/supplier",{}).then(function(e){if(0==e.data.code){t.supplierList=e.data.data;var a={id:0,title:"全部"};t.supplierList.splice(0,0,a)}else console.log(22)})},selectSampleChange:function(t){var e=this;this.canteenSampleKey=t,this.canteenSampleId=this.canteen[t-1].id,this.storehouseKey="全部",this.storehouseId=0,this.isDisabled=1==t,this.$get("api/scale/storehouse?canteen_id="+this.canteenSampleId,{}).then(function(t){if(0==t.data.code){e.storehouseList=t.data.data;var a={id:0,title:"全部"};e.storehouseList.splice(0,0,a)}else console.log(22)})},mxSeach:function(){var t="";t="-1"==this.foodState?"":this.foodState,this.loading=!0,this.getFoodList(this.canteenSampleId,this.mxClassVal,this.supplierId,this.storehouseId,t)},emitEmpty:function(){this.$refs.userNameInput.focus(),this.mxClassVal=""},mxShowInfo:function(t){this.loadingInfo=!0,this.getDataInfo(t),this.isShowInfo=!0},getDataInfo:function(t){var e=this;this.$get("api/school/foods/"+t).then(function(t){0==t.data.code?(t.data.data.record.forEach(function(t){if(""==t.photo_src){var e,a=[];e={url:"http://h.hiphotos.baidu.com/lvpics/w=600/sign=5dc3621e19d5ad6eaaf967eab1c939a3/0b55b319ebc4b745cc71eecccdfc1e178b821506.jpg"},a.push(e),t.photo_src=a}if(""==t.bill_src){var s,i=[];s={url:"http://h.hiphotos.baidu.com/lvpics/w=600/sign=5dc3621e19d5ad6eaaf967eab1c939a3/0b55b319ebc4b745cc71eecccdfc1e178b821506.jpg"},i.push(s),t.bill_src=i}}),e.showListInfo=t.data.data,e.loadingInfo=!1):console.log(22)})},backShowInfo:function(){this.isShowInfo=!1},mxFoodOut:function(){var t=this;if(this.selectedRowKeys.length<=0)this.$message.warning("请选择食材");else if(1==this.selectedRowKeys.length)this.isFoodOut=!0;else{var e=!1,a="";this.selectedRowList.some(function(s){if(""==a)a=s.canteen_id;else{if(a!=s.canteen_id)return e=!1,t.$message.warning("请选择单个食堂下食材出库"),!0;e=!0}}),this.isFoodOut=!!e}},mxFoodOutCel:function(){this.isFoodOut=!1},mxOkFoodOut:function(){var t=this;this.isFoodOut=!1;var e,a=[],s=[];this.selectedRowList.forEach(function(t){a.push(t.record_id),s.push(parseFloat(t.order_num)),e=t.canteen_id}),this.$get("api/school/outfirtstep?num="+s.join(",")+"&id="+a.join(","),{}).then(function(a){0==a.data.code?t.$router.push({path:"/mxOutLibrary",query:{canteen_id:e}}):console.log(22)})},mxLongWarranty:function(){this.selectedRowKeys.length<=0?this.$message.warning("请选择食材"):this.isLongWarranty=!0},mxLongWarrantyCel:function(){this.isLongWarranty=!1},mxOkLongWarranty:function(){var t=this;this.isLongWarranty=!1;var e={url:"api/school/foods/"+this.selectedRowKeys.join(","),method:"put",data:{expiry_unit:this.early,expiry:this.extendTimes}};this.$apiAxiox(e).then(function(e){0==e.data.code?(t.$message.success("延长保质期成功"),t.early="d",t.extendTimes="",t.selectedRowKeys=[],t.loading=!0,t.getFoodList("","","","","")):t.$message.success(e.data.msg)})}}},h=u,m=(a("34a1"),a("2877")),g=Object(m["a"])(h,s,i,!1,null,"4cbf0db9",null);e["default"]=g.exports}}]);
//# sourceMappingURL=chunk-424cf027.c9192969.js.map